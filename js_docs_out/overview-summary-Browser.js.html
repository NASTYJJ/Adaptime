<!doctype html public "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<html>
<head>
<title>
 Overview
</title>
<link rel ="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script>
function asd() {
	
		parent.document.title="Browser.js Overview";
	
}
</script>
</head>
<body bgcolor="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> 	<font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top">
<em>
<b></b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<center>
	
	   <h2>Browser.js</h2>
	
</center>

	


<h4>Summary</h4>
<p>
	
		No overview generated for 'Browser.js'<BR/><BR/>
	
</p>

<hr>


    <table border="1" cellpadding="3" cellspacing="0" width="100%">
    <tr bgcolor="#CCCCFF" class="TableHeadingColor">
    <td colspan=2><font size="+2">
    
        <b>Class Summary</b>
    
    </font></td>
    </tr>
    
    <tr bgcolor="white" class="TableRowColor">
    <td width="15%"><b><a href="Browser.html">Browser</a></b></td>
    <td>Object handling browser dependent methods
  
</td>
    </tr>
    
    </table>
    <hr/> 


<!-- ========== METHOD SUMMARY =========== -->

	<a name="method_summary"><!-- --></a>
	<table border="1" cellpadding="3" cellspacing="0" width="100%">
		<tr bgcolor="#CCCCFF" class="TableHeadingColor">
			<td colspan=2>
				<font size="+2">
					<b>Method Summary</b>
				</font>
			</td>
		</tr>
	
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!del_cookie">del_cookie</a></b>(c_name)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!disable">disable</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!enable">enable</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!get_cookie">get_cookie</a></b>(c_name)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!set_cookie">set_cookie</a></b>(c_name,value,expiredays)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!set_flat_cookie">set_flat_cookie</a></b>(value)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!set_opacity">set_opacity</a></b>(elm,perc)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!sniff_agent">sniff_agent</a></b>(ua)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!sniff_platform">sniff_platform</a></b>(platform)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
	
	</table>
    <p>

<!-- ========== END METHOD SUMMARY =========== -->


        <pre class="sourceview"><span class="reserved">function</span> disable()
{
	<span class="reserved">return</span> false;
}

<span class="reserved">function</span> enable()
{
	<span class="reserved">return</span> true;
}

<span class="reserved">function</span> set_opacity(elm,perc)
{
    <span class="reserved">return</span> global.browser.set_opacity(elm,perc);
}

<span class="reserved">function</span> get_cookie(c_name)
{
	<span class="reserved">if</span> (document.cookie.length&gt;0)
  	{
  		c_start=document.cookie.indexOf(c_name + <span class="literal">"="</span>)
  		<span class="reserved">if</span> (c_start!=-1)
    		{ 
    			c_start=c_start + c_name.length+1 
    			c_end=document.cookie.indexOf(<span class="literal">";"</span>,c_start)
    		<span class="reserved">if</span> (c_end==-1) c_end=document.cookie.length
    			<span class="reserved">return</span> unescape(document.cookie.substring(c_start,c_end))
    		} 
  	}
	<span class="reserved">return</span> null
}

<span class="comment">// when used from applet (single parameter)</span>
<span class="reserved">function</span> set_flat_cookie(value)
{
	document.cookie=value;
}

<span class="reserved">function</span> set_cookie(c_name,value,expiredays)
{
	var exdate=new Date()
	exdate.setDate(exdate.getDate()+expiredays)
	document.cookie=c_name+ <span class="literal">"="</span> +escape(value)+
	((expiredays==null) ? <span class="literal">""</span> : <span class="literal">";expires="</span>+exdate)

	<span class="comment">//exdate.setTime(exdate.getTime()+10000)</span>
	<span class="comment">//document.cookie=c_name+ "=" +escape(value)+</span>
	<span class="comment">//((expiredays==null) ? "" : ";expires="+exdate)</span>
}

<span class="reserved">function</span> del_cookie(c_name)
{
    set_cookie(c_name,<span class="literal">""</span>,-1);
}

<span class="reserved">function</span> sniff_platform(platform)
{
    pf = platform.toLowerCase();

    <span class="comment">// just Mac ? or MacIntel and MacPPC</span>
    <span class="comment">//test = agent.indexOf('macintel'); </span>
    <span class="comment">//if (test &gt;= 0) return 'macintel';</span>
    <span class="comment">//test = agent.indexOf('macppc'); </span>
    <span class="comment">//if (test &gt;= 0) return 'macppc';</span>
    test = pf.indexOf(<span class="literal">'iphone'</span>); <span class="comment">// iphone is a more specific mac !</span>
    <span class="reserved">if</span> (test &gt;= 0) <span class="reserved">return</span> <span class="literal">'iphone'</span>;
    test = pf.indexOf(<span class="literal">'mac'</span>);
    <span class="reserved">if</span> (test &gt;= 0) <span class="reserved">return</span> <span class="literal">'mac'</span>;
    test = pf.indexOf(<span class="literal">'linux'</span>); <span class="comment">// Linuxi386 for instance</span>
    <span class="reserved">if</span> (test &gt;= 0) <span class="reserved">return</span> <span class="literal">'linux'</span>;
    test = pf.indexOf(<span class="literal">'win32'</span>);
    <span class="reserved">if</span> (test &gt;= 0) <span class="reserved">return</span> <span class="literal">'win32'</span>;

    <span class="comment">//alert("unkown agent:" + agent);</span>
    <span class="reserved">return</span> <span class="literal">'win32'</span>; <span class="comment">// dan maar weer</span>
}

<span class="reserved">function</span> sniff_agent(ua)
{
    agent = ua.toLowerCase();

    test = agent.indexOf(<span class="literal">'netscape'</span>);
    <span class="reserved">if</span> (test &gt;= 0) <span class="reserved">return</span> <span class="literal">'netscape'</span>;
    test = agent.indexOf(<span class="literal">'firefox'</span>);
    <span class="reserved">if</span> (test &gt;= 0) <span class="reserved">return</span> <span class="literal">'firefox'</span>;
    test = agent.indexOf(<span class="literal">'opera'</span>);
    <span class="reserved">if</span> (test &gt;= 0) <span class="reserved">return</span> <span class="literal">'opera'</span>;
    test = agent.indexOf(<span class="literal">'msie'</span>);
    <span class="reserved">if</span> (test &gt;= 0) <span class="reserved">return</span> <span class="literal">'msie'</span>;
    test = agent.indexOf(<span class="literal">'safari'</span>);
    <span class="reserved">if</span> (test &gt;= 0) <span class="reserved">return</span> <span class="literal">'safari'</span>;
    <span class="reserved">if</span> (test &gt;= 0) <span class="reserved">return</span> <span class="literal">'safari'</span>;

    <span class="comment">//alert("unkown agent:" + agent);</span>
    <span class="reserved">return</span> <span class="literal">'msie'</span>; <span class="comment">// what else ??</span>
}

<span class="comment">/**
 * <span class="attrib">@class</span> Object handling browser dependent methods
 */</span>
<span class="reserved">function</span> Browser()
{
	<span class="comment">//var agt=navigator.userAgent.toLowerCase();</span>
	<span class="reserved">this</span>.app_name = navigator.appName;
	<span class="reserved">this</span>.is_major = parseInt(navigator.appVersion);
    <span class="reserved">this</span>.user_agent = sniff_agent(navigator.userAgent);
    <span class="reserved">this</span>.platform = sniff_platform(navigator.platform);
    <span class="reserved">this</span>.is_minor = parseFloat(navigator.appVersion);
	<span class="reserved">this</span>.is_ie    = false;
	<span class="reserved">this</span>.is_safari = false;
    <span class="reserved">this</span>.is_ie7   = (document.all &amp;&amp; !window.opera &amp;&amp; window.XMLHttpRequest) ? true : false;

    <span class="comment">// avoid 'this' in methods </span>
    var self=<span class="reserved">this</span>;
    self.captured=false;
	
	<span class="comment">// for displaying text in divs</span>
	<span class="comment">// roughly the number of pixels each character gets</span>
	<span class="reserved">this</span>.text_treshold = 20;
	<span class="reserved">this</span>.text_letterheight = 2.5;

	<span class="comment">// YES you only have one mouse, you get 1 set of coordinates !</span>
	<span class="reserved">this</span>.x =0;
	<span class="reserved">this</span>.y =0;

    <span class="comment">/** 
     * bug internet explorer users
     * <span class="attrib">@param</span> {String} which What about
     * <span class="attrib">@return</span> {Boolean} mostly IE cant do something so return a boolean wether to go on or not
     */</span>
    <span class="reserved">this</span>.ie_flame = <span class="reserved">function</span>(which)
    {
        <span class="reserved">if</span> (!<span class="reserved">this</span>.is_ie) <span class="reserved">return</span> false;
        switch (which) {
            case <span class="literal">"appendChild in other frame"</span>:
                alert(<span class="literal">"Internet Explorer cannot handle dom element being copied to other frames\nI discovered this too late to revert everything here\nAnyway this is a developer tutorial and if you are a developer using IE you deserve this\n\nDon't Use IE... firefox is free AND BETTER"</span>);
            break;
            default:
                alert(<span class="literal">"Don't Use IE... firefox is free AND BETTER"</span>);
            break;
        }
        <span class="reserved">return</span> true;
    }

    <span class="comment">/** 
     * stop propagating events 
     * <span class="attrib">@param</span> {Object} e the event in question
     */</span>
	<span class="reserved">this</span>.cancel_bubble = <span class="reserved">function</span>(e)
	{
		<span class="reserved">if</span> (<span class="reserved">this</span>.is_ie) {
			window.event.cancelBubble = true;
		} <span class="reserved">else</span> {
			e.stopPropagation();
		}
	}

	<span class="reserved">if</span> (<span class="reserved">this</span>.app_name == <span class="literal">"Microsoft Internet Explorer"</span>) {
		<span class="reserved">this</span>.is_ie = true;
		<span class="comment">// just filter IE stuff</span>
	}
	<span class="reserved">if</span> (<span class="reserved">this</span>.user_agent == <span class="literal">"safari"</span>) {
		<span class="reserved">this</span>.is_safari = true;
		<span class="comment">// just filter IE stuff</span>
	}

    <span class="comment">/** 
     * set opacity (or transaprancy but the higher the percentage the more opaque)
     *   for the current browser
     * <span class="attrib">@param</span> {Object} elm the dom elm to alter
     * <span class="attrib">@param</span> {Number} percentage , 0-100, the higer the less transparent
     */</span>
	<span class="reserved">this</span>.set_opacity = <span class="reserved">function</span> (elm,percentage)
	{
		<span class="reserved">if</span> (<span class="reserved">this</span>.is_ie) {
		 	 str = <span class="literal">"alpha(opacity:"</span> + percentage*100 + <span class="literal">")"</span>;
			 elm.style.filter=str;
		} <span class="reserved">else</span> {
			 elm.style.opacity=percentage;
		}
	}

    <span class="comment">/** 
     * disable text selection, which is often irritatingly in the way
     */</span>
	<span class="reserved">this</span>.disable_selection = <span class="reserved">function</span>()
	{
		<span class="reserved">if</span> (<span class="reserved">this</span>.is_ie) {
			document.onselectstart=new Function (<span class="literal">"return false"</span>)
		} <span class="reserved">else</span> {
			document.onmousedown=disable;
			document.onclick=enable;
		}
	}

    <span class="comment">/** 
     * set iframe content
     */</span>
	<span class="reserved">this</span>.iframe_set = <span class="reserved">function</span>(ifr,what)
	{
    	<span class="reserved">if</span>(<span class="reserved">this</span>.is_ie) <span class="comment">// IE</span>
			ifr.location.href=what;
		<span class="reserved">else</span> 
			ifr.src=what;
	}

    <span class="comment">/** 
     * experimental function, attempt to capture mouse globally
	 * sample function that works even outside browser
	 * but i presume that relies on txt selection
     */</span>
	<span class="reserved">this</span>.drag = <span class="reserved">function</span> (o,msg){
		o.onmousedown=<span class="reserved">function</span>(a){
			var d=document;<span class="reserved">if</span>(!a)a=window.event;
			<span class="comment">//var x=a.layerX?a.layerX:a.offsetX,y=a.layerY?a.layerY:a.offsetY;</span>
			<span class="reserved">if</span>(o.setCapture)
				o.setCapture();
			<span class="reserved">else</span> <span class="reserved">if</span>(window.captureEvents)
				window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP);
			d.onmousemove=<span class="reserved">function</span>(a){
				<span class="reserved">if</span>(!a)a=window.event;
				<span class="reserved">if</span>(!a.pageX)a.pageX=a.clientX;
				<span class="reserved">if</span>(!a.pageY)a.pageY=a.clientY;
				<span class="comment">//var tx=a.pageX-x,ty=a.pageY-y;</span>
				<span class="comment">//o.style.left=tx;</span>
				<span class="comment">//o.style.top=ty;</span>
			};
			d.onmouseup=<span class="reserved">function</span>(){
				<span class="reserved">if</span>(o.releaseCapture)
				o.releaseCapture();
				<span class="reserved">else</span> <span class="reserved">if</span>(window.captureEvents)
				window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP);
				d.onmousemove=null;
				d.onmouseup=null;
				alert(msg)
			};
		};
	}

    <span class="comment">/** 
     * browser icons, ie uses hand, the rest of the world pointer
     */</span>
	<span class="reserved">this</span>.icon_name = <span class="reserved">function</span>(name)
	{
    	<span class="reserved">if</span>(!<span class="reserved">this</span>.is_ie) {
			<span class="reserved">if</span> (name == <span class="literal">'hand'</span>) <span class="reserved">return</span> <span class="literal">'pointer'</span>;
		} 
		<span class="reserved">return</span> name;
	}

    <span class="comment">/** 
     * capture mouse for document;
	 * only use in case of emergency, this manually calls the event
	 * functions on the object wherever they come in on the document
     */</span>
	<span class="reserved">this</span>.mouse_capture = <span class="reserved">function</span>(o)
	{
		<span class="comment">// STORE handlers  (untested, hope it works)</span>
        <span class="reserved">if</span> (self.captured==false) {
            self.store_mousedown = document.onmousedown;
		    self.store_mouseup = document.onmouseup;
		    self.store_mousemove = document.onmousemove;
            self.captured = true;
        }

		<span class="comment">//document.onmousedown = o.onmousedown;</span>
		<span class="comment">//document.onmousemove = o.onmousemove;</span>
		<span class="comment">//document.onmouseup = o.onmouseup;</span>
		document.onmousedown = <span class="reserved">function</span>(e) {
			<span class="reserved">if</span> (o.onmousedown) o.onmousedown(e);
		}
		document.onmousemove = <span class="reserved">function</span>(e) {
			<span class="reserved">if</span> (o.onmousemove) o.onmousemove(e);
		}
		document.onmouseup = <span class="reserved">function</span>(e) {
			<span class="reserved">if</span> (o.onmouseup) o.onmouseup(e);
		}
	}

    <span class="comment">/** 
     * (try to) restore mouse_capture again
     */</span>
	<span class="reserved">this</span>.mouse_release = <span class="reserved">function</span>(o)
	{
		<span class="comment">// RESTORE original handlers (if set)</span>
        <span class="reserved">if</span> (self.captured==false) <span class="reserved">return</span>;

        document.onmousedown = self.store_mousedown;
        document.onmouseup   = self.store_mouseup;
        document.onmousemove = self.store_mousemove;
	}

    <span class="comment">/** 
     * set global wid and height, from the given event
     */</span>
    <span class="reserved">this</span>.event_set_wh = <span class="reserved">function</span> (e)
    {
        <span class="reserved">if</span>(<span class="reserved">this</span>.is_ie) <span class="comment">// IE</span>
        {
                        <span class="reserved">this</span>.w = document.body.clientWidth;
                        <span class="reserved">this</span>.h = document.body.clientHeight;
        }
        <span class="reserved">else</span> <span class="reserved">if</span>(e) <span class="comment">// Netscape/Firefox/Opera</span>
        {
            <span class="reserved">this</span>.w = e.innerWidth;
            <span class="reserved">this</span>.h = e.innerHeight;
        <span class="comment">// optional ?!</span>
        <span class="comment">//window.innerWidth;</span>
        <span class="comment">//window.innerHeight;</span>
        }
        <span class="comment">// and IE</span>
    }


    <span class="comment">/**
      * try to normalize a mouse event regardless or the browser used
	  * browser.x,browser.y is the absolute postion in the document
	  * browser.ox,browser.oy the absolute postion within the parent
	  * but beware: only use ox,oy if you dont want events outside the 
	  * parent (like plancanvas) because there the offset is different
	  * a tryout for that is tox,toy (target offset)
      * <span class="attrib">@param</span> {Object} e mouse event 
      */</span>
	<span class="reserved">this</span>.event_set_xy = <span class="reserved">function</span> (e)
	{
    	<span class="reserved">if</span>(<span class="reserved">this</span>.is_ie) <span class="comment">// IE</span>
    	{
        	<span class="reserved">this</span>.x = window.event.clientX;
        	<span class="reserved">this</span>.y = window.event.clientY;
        	<span class="reserved">this</span>.ox = window.event.offsetX;
        	<span class="reserved">this</span>.oy = window.event.offsetY;
			<span class="reserved">this</span>.target = window.event.srcElement;
			<span class="reserved">if</span> (window.event.button) {
				<span class="reserved">if</span> (window.event.button == 1)
					<span class="reserved">this</span>.button = <span class="literal">"left"</span>;
				<span class="reserved">else</span> 
				<span class="reserved">if</span> (window.event.button == 2)
					<span class="reserved">this</span>.button = <span class="literal">"right"</span>;
				<span class="reserved">else</span> 
				<span class="comment">//if (window.event.button == 4)</span>
					<span class="reserved">this</span>.button = <span class="literal">"middle"</span>;
			} 
    	}
    	<span class="reserved">else</span> <span class="reserved">if</span>(e) <span class="comment">// Netscape/Firefox/Opera</span>
    	{
        	<span class="reserved">this</span>.x = e.clientX;
        	<span class="reserved">this</span>.y = e.clientY;
			<span class="reserved">if</span> (e.offsetY) { <span class="comment">// opera </span>
        		<span class="reserved">this</span>.ox = e.offsetX;
        		<span class="reserved">this</span>.oy = e.offsetY;
			} <span class="reserved">else</span> {
        		<span class="reserved">this</span>.ox = e.layerX;
        		<span class="reserved">this</span>.oy = e.layerY;
			}
			<span class="reserved">this</span>.target = e.target;
			<span class="reserved">if</span> (e.button) {
				<span class="reserved">if</span> (e.button == 2)
					<span class="reserved">this</span>.button = <span class="literal">"right"</span>;
				<span class="reserved">else</span>
					<span class="reserved">this</span>.button = <span class="literal">"middle"</span>;
			} <span class="reserved">else</span> 
				<span class="reserved">this</span>.button = <span class="literal">"left"</span>;
		}
        <span class="reserved">if</span> (<span class="reserved">this</span>.is_safari &amp;&amp; <span class="reserved">this</span>.platform == <span class="literal">'mac'</span>) {
            <span class="reserved">this</span>.x -= document.body.scrollLeft;
			<span class="comment">// next line not necesary it seems (kk, jan 2009)</span>
            <span class="comment">//this.y -= document.body.scrollTop;</span>
        }
	}

    <span class="comment">/**
      * return the event as if IE did not exist
      * <span class="attrib">@param</span> {Object} e event in normal browsers
      * <span class="attrib">@return</span> {Object} e event in any browser
      */</span>
	<span class="reserved">this</span>.event_get = <span class="reserved">function</span> (e)
	{
    	<span class="reserved">if</span>(<span class="reserved">this</span>.is_ie) <span class="comment">// IE</span>
			<span class="reserved">return</span> window.event
		<span class="reserved">else</span> 
			<span class="reserved">return</span> e
	}

    <span class="comment">/**
      * return the key event 
      * <span class="attrib">@param</span> {Object} e event in normal browsers
      * <span class="attrib">@return</span> {Object} key number typed
      */</span>
	<span class="reserved">this</span>.event_get_key = <span class="reserved">function</span> (e)
	{
		var keynum

		<span class="comment">/* if(window.event) // IE */</span>
    	<span class="reserved">if</span>(<span class="reserved">this</span>.is_ie) <span class="comment">// IE</span>
		{
			keynum = window.event.keyCode
		}
		<span class="reserved">else</span> <span class="reserved">if</span>(e.which) <span class="comment">// Netscape/Firefox/Opera</span>
		{
			keynum = e.which
		}

		<span class="reserved">return</span> keynum;
	}

    <span class="comment">/**
      * get left side regarding scrollbar position 
      * <span class="attrib">@param</span> {Object} p parent dom element
      * <span class="attrib">@return</span> {Object} absolute left side, not visible left side
      */</span>
	<span class="reserved">this</span>.get_scrolled_left = <span class="reserved">function</span>(p)
	{
		var left = global.browser.getAbsoluteLeft(p);
		left-= document.body.scrollLeft;
		<span class="reserved">return</span> left;
	}
	
    <span class="comment">/**
      * get left side disregarding scrollbar postion
      * <span class="attrib">@param</span> {Object} dom object
      * <span class="attrib">@return</span> {Object} absolute left side
      */</span>
	<span class="reserved">this</span>.getAbsoluteLeft = <span class="reserved">function</span>(o) {
	oLeft = o.offsetLeft            <span class="comment">// Get left position from the parent object</span>
	<span class="reserved">while</span>(o.offsetParent!=null) {   <span class="comment">// Parse the parent hierarchy up to the document element</span>
		oParent = o.offsetParent    <span class="comment">// Get parent object reference</span>
		oLeft += oParent.offsetLeft <span class="comment">// Add parent left position</span>
		o = oParent
	}
	<span class="comment">// (strangely IE is 1 pixel off) (whom did you say ??)</span>
	<span class="reserved">if</span> (<span class="reserved">this</span>.is_ie) oLeft ++;
	<span class="comment">// Return left postion </span>
	<span class="reserved">return</span> oLeft;
	}

	<span class="reserved">this</span>.getAbsoluteTop = <span class="reserved">function</span> (o) {
	oTop = o.offsetTop            <span class="comment">// Get top position from the parent object</span>
	<span class="reserved">while</span>(o.offsetParent!=null) { <span class="comment">// Parse the parent hierarchy up to the document element</span>
		oParent = o.offsetParent  <span class="comment">// Get parent object reference</span>
		oTop += oParent.offsetTop <span class="comment">// Add parent top position</span>
		o = oParent
	}
	<span class="comment">// Return top position</span>
	<span class="reserved">return</span> oTop
	}

    <span class="comment">/** 
     * set a client cookie
     * <span class="attrib">@param</span> {String} c_name cookie name
     * <span class="attrib">@param</span> {String} value cookie value to store client side
     * <span class="attrib">@param</span> {Number} expiredays day until expiration
     */</span>
	<span class="reserved">this</span>.set_cookie = <span class="reserved">function</span> set_cookie(c_name,value,expiredays)
    {
        set_cookie(c_name,value,expiredays);
    }

    <span class="comment">/** 
     * Get a client cookie
     * <span class="attrib">@param</span> {String} c_name cookie name
     * <span class="attrib">@return</span> {String} cookie value to get from client side
     */</span>
    <span class="reserved">this</span>.get_cookie = <span class="reserved">function</span> get_cookie(c_name)
    {
        <span class="reserved">return</span> get_cookie(c_name);
    }

    <span class="comment">/** 
     * Delete a client cookie
     * <span class="attrib">@param</span> {String} c_name cookie name
     */</span>
    <span class="reserved">this</span>.del_cookie = <span class="reserved">function</span> del_cookie(c_name)
    {
        del_cookie(c_name);
    }
    
}
<span class="comment">// instantiate 1 (one) browser object and use its methods for browser</span>
<span class="comment">// dependent stuff.</span>
global.browser = new Browser();

</pre>
	<hr>



<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> <font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top"><em>
<b></b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<font size="-1">

</font>
<div class="jsdoc_ctime">Documentation generated by <a href="http://jsdoc.sourceforge.net/" target="_parent">JSDoc</a> on Fri Feb 19 19:00:18 2010</div>
</body>
</html>
