<!doctype html public "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<html>
<head>
<title>
 Overview
</title>
<link rel ="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script>
function asd() {
	
		parent.document.title="Misc.js Overview";
	
}
</script>
</head>
<body bgcolor="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> 	<font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top">
<em>
<b></b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<center>
	
	   <h2>Misc.js</h2>
	
</center>

	


<h4>Summary</h4>
<p>
	
		No overview generated for 'Misc.js'<BR/><BR/>
	
</p>

<hr>



<!-- ========== METHOD SUMMARY =========== -->

	<a name="method_summary"><!-- --></a>
	<table border="1" cellpadding="3" cellspacing="0" width="100%">
		<tr bgcolor="#CCCCFF" class="TableHeadingColor">
			<td colspan=2>
				<font size="+2">
					<b>Method Summary</b>
				</font>
			</td>
		</tr>
	
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!addslashes">addslashes</a></b>(str)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!date_format">date_format</a></b>(s)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!day_hours">day_hours</a></b>(&lt;Number&gt; t)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 get number of hours passed in the given day (t = last_midnight())
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!day_minutes">day_minutes</a></b>(&lt;Number&gt; t)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 get number of minutes passed in the given day (t = last_midnight())
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!dur_format">dur_format</a></b>(s)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Number</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!get_tzo">get_tzo</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 get the timzone offset
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!gues_format">gues_format</a></b>(s,gap)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!hour_format">hour_format</a></b>(s)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Number</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!last_midnight">last_midnight</a></b>(&lt;Number&gt; t)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 get the timestamp of the midnight before t
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!last_monday">last_monday</a></b>(before)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!last_sunday">last_sunday</a></b>(before)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!mysql_date_format">mysql_date_format</a></b>(d)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Number</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!next_midnight">next_midnight</a></b>(&lt;Number&gt; t)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 get the timestamp of the next midnight after t
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!nl_date">nl_date</a></b>(t)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!stripslashes">stripslashes</a></b>(str)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!time_format">time_format</a></b>(t)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 format a time in xx:yy form
		      </td>
		   </tr>
		
	
	</table>
    <p>

<!-- ========== END METHOD SUMMARY =========== -->


        <pre class="sourceview"><span class="comment">/** get number of minutes passed in the given day (t = last_midnight())
  * <span class="attrib">@param</span> {Number} t timestamp from which to calulate 
  */</span>
<span class="reserved">function</span> day_minutes(t)
{
	var d = new Date(t);
	<span class="reserved">return</span> d.getMinutes();
}

<span class="comment">/** get number of hours passed in the given day (t = last_midnight())
  * <span class="attrib">@param</span> {Number} t timestamp from which to calulate 
  */</span>
<span class="reserved">function</span> day_hours(t)
{
	var d = new Date(t);
	<span class="reserved">return</span> d.getHours();
}

<span class="comment">/** format a time in xx:yy form
  * <span class="attrib">@param</span> {Number} s timestamp
  */</span>
<span class="reserved">function</span> time_format(t)
{
    <span class="comment">//if (t &gt; 100000000000) t /= 1000;</span>
	<span class="comment">// ok this invalidates 1 jan 1970, so ?!? </span>
	<span class="reserved">if</span> (t &lt; 87000000) {
		var s = t/1000; <span class="comment">// ms to minutes</span>
		var h = Math.floor(s/3600);
		var m = Math.round((s-(h*3600))/60);
	} <span class="reserved">else</span> {
		var d = new Date(t);
		var h = d.getHours();
		var m = d.getMinutes();
	}
	<span class="reserved">if</span> (m &lt; 10) m=<span class="literal">'0'</span>+m;

	<span class="reserved">return</span> h + <span class="literal">":"</span> + m;
}

<span class="reserved">function</span> addslashes(str) {
	<span class="reserved">if</span> (!str) <span class="reserved">return</span> str;
	str=str.replace(/\\/g,<span class="literal">'\\\\'</span>);
	str=str.replace(/\<span class="literal">'/g,'</span>\\\<span class="literal">''</span>);
	str=str.replace(/\<span class="literal">"/g,'\\"</span><span class="literal">');
	str=str.replace(/\0/g,'</span>\\0<span class="literal">');
	return str;
}
function stripslashes(str) {
	if (!str) return str;
	str=str.replace(/\\'</span>/g,<span class="literal">'\'</span><span class="literal">');
	str=str.replace(/\\"/g,'</span><span class="literal">"');
	str=str.replace(/\\0/g,'\0');
	str=str.replace(/\\\\/g,'\\');
	return str;
}

function dur_format(s)
{
	var ret;
	s/=1000;

	var h = Math.floor(s/3600);
	var m = Math.round((s-(h*3600))/60);

	if (m &lt; 10) m='0'+m;
	return h + "</span>:<span class="literal">" + m;
}

function hour_format(s)
{
    if (s &gt; 100000000000) s /= 1000;
	var d = new Date(s*1000);
	h = d.getHours();

	return h;
}
var wds= new Array("</span>Sun<span class="literal">", "</span>Mon<span class="literal">", "</span>Tue<span class="literal">", "</span>Wed<span class="literal">", "</span>Thu<span class="literal">", "</span>Fri<span class="literal">", "</span>Sat<span class="literal">");
var mnts= new Array("</span>Jan<span class="literal">", "</span>Feb<span class="literal">", "</span>Mar<span class="literal">", "</span>Apr<span class="literal">", "</span>May<span class="literal">", "</span>Jun<span class="literal">", "</span>Jul<span class="literal">", "</span>Aug<span class="literal">", "</span>Sep<span class="literal">", "</span>Oct<span class="literal">", "</span>Nov<span class="literal">", "</span>Dec<span class="literal">" );

var dagen= new Array("</span>Zondag<span class="literal">", "</span>Maandag<span class="literal">", "</span>Dinsdag<span class="literal">", "</span>Woensdag<span class="literal">", "</span>Donderdag<span class="literal">", "</span>Vrijdag<span class="literal">", "</span>Zaterdag<span class="literal">");
var maanden = new Array("</span>Januari<span class="literal">", "</span>Februari<span class="literal">", "</span>Maart<span class="literal">", "</span>April<span class="literal">", "</span>Mei<span class="literal">", "</span>Juni<span class="literal">", "</span>Juli<span class="literal">", "</span>Augustus<span class="literal">", "</span>September<span class="literal">", "</span>Oktober<span class="literal">", "</span>November<span class="literal">", "</span>December<span class="literal">");

function nl_date(t)
{
	var d = new Date(t*1000);

	m = d.getMonth();
	wd = d.getDay();
	d = d.getDate();

	return dagen[wd] + "</span> <span class="literal">" + d + "</span> <span class="literal">" + maanden[m];
}

function date_format(s)
{
	var d = new Date(s*1000);

	m = d.getMonth();
	wd = d.getDay();
	d = d.getDate();

	return wds[wd] + "</span> <span class="literal">" + d + "</span> <span class="literal">" + mnts[m];
}

function mysql_date_format(d)
{
	y = d.getFullYear();
	m = d.getMonth()+1;
	if (m &lt; 10) m='0'+m;
	d = d.getDate();
	if (d &lt; 10) d='0'+d;

	return y + "</span>-<span class="literal">" + m + "</span>-" + d;
}

<span class="reserved">function</span> gues_format(s,gap)
{
    <span class="reserved">if</span> (gap &gt;= 24*3600) 
        <span class="reserved">return</span> date_format(s);
    <span class="reserved">else</span>
        <span class="reserved">return</span> time_format(s);
}

<span class="comment">/** get the timestamp of the midnight before t
  * <span class="attrib">@param</span> {Number} t timestamp
  * <span class="attrib">@return</span> {Number} last midnight in seconds afer epoch
  */</span>
<span class="reserved">function</span> last_midnight(t)
{
    midnight =t;
	<span class="reserved">if</span> (!midnight) 
		midnight = new Date()
	
	<span class="comment">// last midnight</span>
	midnight.setHours(0);
	midnight.setMinutes(0);
	midnight.setSeconds(0);
	midnight.setMilliseconds(0);

	start = midnight.getTime() ; <span class="comment">// seconds!!</span>
	start = Math.floor(start); 	<span class="comment">// no fractions</span>

	<span class="reserved">return</span> start;
}

<span class="reserved">function</span> last_monday(before) 
{
	wd = before.getDay();
	before.setSeconds(0);
	before.setHours(0);
	before.setMinutes(0);
	
	midnight = before.getTime() - (wd-1) * 24 * 3600 * 1000;
	before = new Date(midnight);
	<span class="reserved">return</span> before;
}

<span class="reserved">function</span> last_sunday(before) 
{
	wd = before.getDay();
	before.setSeconds(0);
	before.setHours(0);
	before.setMinutes(0);
	
	midnight = before.getTime() - wd * 24 * 3600 * 1000;
	before = new Date(midnight);
	<span class="reserved">return</span> before;
}

<span class="comment">/** get the timzone offset 
  * <span class="attrib">@return</span> {Number} offset in minutes
  */</span>
<span class="reserved">function</span> get_tzo()
{
    var d = new Date();
    <span class="reserved">return</span> d.getTimezoneOffset();
}

<span class="comment">/** get the timestamp of the next midnight after t
  * <span class="attrib">@param</span> {Number} t timestamp
  * <span class="attrib">@return</span> {Number} next midnight in seconds afer epoch
  */</span>
<span class="reserved">function</span> next_midnight(t)
{
	start = last_midnight(t);
	end = start + 7 * 60*60*24;
	<span class="reserved">return</span> end;
}


</pre>
	<hr>



<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> <font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top"><em>
<b></b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<font size="-1">

</font>
<div class="jsdoc_ctime">Documentation generated by <a href="http://jsdoc.sourceforge.net/" target="_parent">JSDoc</a> on Fri Feb 19 19:00:18 2010</div>
</body>
</html>
